<html lang="en">
<head>
<title>Budget Tool</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous" />
<link rel="stylesheet" href="assets/css/main.css" />
</head>
<body>

  <div class="ko-dashboard">

    <div data-bind="if: isLoading() === true">
      <div class="container">
        <p class="text-center">Loading data...</p>
      </div>
    </div>

    <div data-bind="if: isLoading() === false">

      <div class="jumbotron">
        <div class="container">
          <h1 class="text-center" data-bind="text: '&pound;' + $root.currentavailable()"></h1>
        </div>
      </div>

      <div class="container">

        <div class="c-tabs__wrap">
          <ul class="c-tabs__list js-tabs" role="tablist">
            <!-- ko foreach: states() -->
              <li class="c-tabs__item" role="presentation">
              <a data-bind="attr: { 'aria-controls': 'tab-' + createSlug($data), 'data-hook': 'c-tabs__link--' + createSlug($data), 'data-tab': 'tab-' + createSlug($data)}, click: $root.switchVisible($data)" href="#" role="tab">
                <span class="c-tabs__title" data-bind="text: upperCaseFirstChar($data)"></span>
              </a>
            </li>
            <!-- /ko -->
          </ul>
          <!-- ko foreach: states() -->
            <div data-bind="visible: $root.visibleState() === $data">
              <table class="budget-items table table-striped" data-test-hook="budget-items__table--pending">
                <thead>
                  <tr>
                    <th id="budget-item__title">Title</th>
                    <th id="budget-item__amount">Amount</th>
                    <th id="budget-item__due-date">Due</th>
                    <th id="budget-item__action"></th>
                  </tr>
                </thead>
                <tbody>
                <!-- ko foreach: $root.items() -->
                  <!-- ko if: $data.state === $root.visibleState() -->
                    <tr>
                      <td data-bind="text: $data.title" headers="budget-item__title"></td>
                      <td data-bind="text: $data.amount" headers="budget-item__description"></td>
                      <td data-bind="text: $data.datedue" headers="budget-item__action"></td>
                      <td headers="budget-item__action">
                        <button class="btn btn-primary" data-bind="click: $root.updateAvailable('minus', $data.amount)">Mark as paid</button>
                      </td>
                    </tr>
                  <!-- /ko -->
                <!-- /ko -->
              </tbody>
            </table>
          </div>
        <!-- /ko -->
      </div>

    </div>

  </div>

<script src="libs/knockout/knockout-3.4.0.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/viewModels/dashboard.js"></script>
</body>
</html>